<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>AJAX</title>
		<script type="text/javascript">
			window.onload=function(){
				var btn=document.getElementsByTagName('button')[0];
				btn.onclick=function(){
					//1.创建AJAX对象
					var xmlhttp=new XMLHttpRequest();
					//2.连接服务器
					var url='http://120.78.164.247:8099/manager/user/findAllUser';
					xmlhttp.open('GET',url,true);
					//3.发送请求
					xmlhttp.send();
					//4.接收服务器的响应
					//每当readyState变化时，触发onreadystatechange事件
					xmlhttp.onreadystatechange=function(){
						if(xmlhttp.readyState==4){
							//0：请求未初始化
							//1：服务器连接已建立
							//2：请求已接收
							//3：请求已处理
							//4：请求已完成，且响应已就绪
							if(xmlhttp.status==200){
								//获取响应数据
								//响应数据分为responseText和responseXML两种
								var data=xmlhttp.responseText;
								console.log('sucess',data)
							}else{
								console.log(xmlhttp.status)
							}
						}
					}
				}
			}
		</script>
	</head>
	<body>
		<div>
			<button>点击获取数据</button>
		</div>
	</body>
</html>
